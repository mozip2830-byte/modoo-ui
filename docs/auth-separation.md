# 인증 분리 설계 메모

## 현재 선택(옵션 1)
- Firebase Auth는 단일 프로젝트를 사용합니다.
- 고객/파트너는 Firestore 컬렉션을 분리합니다.
  - customerUsers/{uid}
  - partnerUsers/{uid}
- 동일 이메일로 로그인하더라도 두 컬렉션이 분리되어 각 앱의 프로필/권한이 독립적으로 관리됩니다.

## 이유
- 기존 프로젝트 구조를 유지하면서 빠르게 기능을 완료할 수 있습니다.
- 앱 간 계정 충돌을 Firestore 레벨에서 방지할 수 있습니다.

## 한계
- Auth 계정은 단일 UID이므로 "이메일 자체로 완전히 별도 계정"을 만드는 것은 불가능합니다.
- 진짜 분리를 원하면 Auth 프로젝트 분리가 필요합니다.

## 향후 마이그레이션(옵션 2) 계획
1) Firebase 프로젝트를 고객/파트너로 분리하여 Auth를 이중화합니다.
2) 앱별 Firebase 설정 파일을 분리합니다.
   - customer: firebase.customer.ts
   - partner: firebase.partner.ts
3) 로그인/가입 시 각 앱의 Auth 인스턴스를 사용합니다.
4) 기존 고객/파트너 UID 매핑이 필요하면 마이그레이션 스크립트를 준비합니다.
5) 운영 전 단계에서 데이터 이전/테스트 체크리스트를 작성합니다.

## 작업 체크리스트(추후)
- [ ] 고객/파트너 Auth 프로젝트 분리
- [ ] 각 앱 env/설정 분리
- [ ] UID 매핑/마이그레이션 전략 수립
- [ ] 로그인/가입 QA 시나리오 정리
